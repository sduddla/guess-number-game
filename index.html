<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</title>
    <style>
      html {
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande',
          'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        background-color: #fff;
      }

      body {
        width: 100%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .main-title {
        width: 100vw;
        height: 70px;
        background-color: #000;
        margin-bottom: 30px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      h1 {
        color: #fff;
        font-size: 25px;
      }

      .form input[type='number'] {
        width: 150px;
      }

      .form {
        width: 700px;
        height: 200px;
        border-radius: 5px;
        color: #000;
        border: 2.5px solid #000;
        padding-top: 20px;
        text-align: center;
        margin-bottom: 20px;
      }

      .guessSubmit {
        background-color: #000;
        border: none;
        width: 80px;
        height: 27px;
        border-radius: 5px;
        color: white;
        cursor: pointer;
        padding-top: 2px;
        margin-left: 10px;
      }

      .lastResult {
        color: white;
        padding: 3px;
      }

      .guesses {
        margin-top: 40px;
        display: block;
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let randomNumber = Math.floor(Math.random() * 50) + 1;

        const guesses = document.querySelector('.guesses');
        const lastResult = document.querySelector('.lastResult');
        const lowOrhigh = document.querySelector('.lowOrhigh');

        const guessSubmit = document.querySelector('.guessSubmit');
        const guessField = document.querySelector('.guessField');

        let guessCount = 1;
        let resetButton;
        guessField.focus(); // í˜ì´ì§€ ë¡œë”©ì´ ëë‚˜ë©´ í…ìŠ¤íŠ¸ ì»¤ì„œê°€ ìë™ìœ¼ë¡œ <inpu>ì— ê°€ë„ë¡ í•˜ëŠ” ì½”ë“œ

        // ëª‡ ë²ˆì´ë“  ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”, ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œ ë¸”ë¡
        // checkGuess() : í”Œë ˆì´ì–´ì˜ ì¶”ì¸¡ì´ ì •ë‹µì¸ ì§€ ì•„ë‹Œ ì§€ í™•ì¸í•˜ê³ , ì í•©í•œ ë°˜ì‘ í•˜ëŠ” ê²ƒì´ë‹¤.
        function checkGuess() {
          const userGuess = Number(guessField.value); // ë³€ìˆ˜ì˜ ê°’ì„ ë°”ê¿€ ê³„íšì€ ì—†ì–´ constë¡œ ì„ ì–¸
          if (guessCount === 1) {
            guesses.textContent = '[ì´ì „ ê¸°ë¡] ';
          }
          guesses.textContent += userGuess + ' ';

          if (userGuess == randomNumber) {
            lastResult.textContent = 'ì •ë‹µ!';
            lastResult.style.backgroundColor = 'green';
            lowOrhigh.textContent = '';
            setGameOver();
          } else if (guessCount === 10) {
            lastResult.textContent = 'ì•„ì‰½ë„¤ìš”. ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”.';
            lowOrhigh.textContent = '';
            setGameOver();
          } else {
            lastResult.textContent = 'í‹€ë ¸ìŠµë‹ˆë‹¤.';
            lastResult.style.backgroundColor = 'red';
            if (userGuess < randomNumber) {
              lowOrhigh.textContent = 'ë” í° ìˆ«ìë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.';
            } else if (userGuess > randomNumber) {
              lowOrhigh.textContent = 'ë” ì‘ì€ ìˆ«ìë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.';
            }
          }

          guessCount++;
          guessField.value = '';
          guessField.focus();
        }
        guessSubmit.addEventListener('click', checkGuess);

        function setGameOver() {
          guessField.disabled = true;
          guessSubmit.disabled = true;
          // í…ìŠ¤íŠ¸ ì…ë ¥ ì¹¸ê³¼ ì œì¶œ ë²„íŠ¼ì˜ disabled ì†ì„±ì„ trueë¡œ ì„¤ì •í•´ì„œ ë¹„í™œì„±í™”í•œë‹¤.
          // ë¹„í™œì„±í™”ë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ ê²Œì„ì´ ëë‚œ ë’¤ì—ë„ í”Œë ˆì´ì–´ê°€ ì •ë‹µì„ ì¶”ê°€ë¡œ ì…ë ¥í•´ì„œ ê²Œì„ì„ ë§ê°€ëœ¨ë¦¬ê²Œ ëœë‹¤.

          resetButton = document.createElement('button');
          resetButton.textContent = 'ë‹¤ì‹œ ì‹œì‘';
          resetButton.style.cssText = `
            background-color: #000;
            border: none;
            width: 80px;
            height: 27px;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            padding-top: 2px;
            margin-left: 10px;
        `;
          document.body.appendChild(resetButton);
          resetButton.addEventListener('click', resetGame);
          console.log('ğŸš€ resetButton ìƒì„±ë¨!');
        }

        function resetGame() {
          guessCount = 1;

          const resetP = document.querySelectorAll('.resultP p');
          for (const reset of resetP) {
            resetP.textContent = '';
          }

          resetButton.parentNode.removeChild(resetButton);
          // HTMLì—ì„œ ì´ˆê¸°í™” ë²„íŠ¼ ì œê±°

          guessField.disabled = false;
          guessSubmit.disabled = false;
          guessField.value = '';
          guessField.focus();

          lastResult.style.backgroundColor = '#fff';
          randomNumber = Math.floor(Math.random() * 50) + 1;
        }
      });
    </script>
  </head>
  <body>
    <!--
  ìˆ«ì ë²”ìœ„ : 1ê³¼ 50ì˜ ìˆ˜
  í„´ ìˆ˜ : 10ë²ˆ
  í”Œë ˆì´ì–´ê°€ ê³ ë¥¸ ìˆ«ìê°€ ë§ì•˜ëŠ” ì§€, í‹€ë ¸ëŠ” ì§€ ì•Œë ¤ì£¼ê¸°
  í‹€ë¦° ê²½ìš°, í”Œë ˆì´ì–´ì˜ ìˆ«ìê°€ ë„ˆë¬´ ë‚®ì•˜ëŠ” ì§€, ë†’ì•˜ëŠ” ì§€ ì•Œë ¤ì£¼ê¸°
  ì´ì „ ì¶”ì¸¡í•œ ìˆ«ìë“¤ ê¸°ë¡ ë³´ì—¬ì£¼ê¸°
  ê²Œì„ì´ ëë‚˜ë©´ ë‹¤ì‹œ ê²Œì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ ì œê³µí•˜ê¸°
  -->

    <div class="main-title">
      <h1>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</h1>
    </div>

    <div class="form">
      <label for="guessField">ì…ë ¥í•´ì£¼ì„¸ìš”:</label>
      <!-- label : ì¸ë¼ì¸ ìš”ì†Œ -->
      <input
        type="number"
        min="1"
        max="50"
        required
        id="guessField"
        class="guessField"
      />
      <input type="submit" value="ì œì¶œ" class="guessSubmit" />
      <!-- input : ì¸ë¼ì¸ ìš”ì†Œ -->

      <!-- ê²Œì„ ì´ˆê¸°í™”í•  ë•Œ ì‚¬ìš© -->
      <div class="resultP">
        <p class="guesses"></p>
        <p class="lastResult"></p>
        <p class="lowOrhigh"></p>
      </div>
    </div>
  </body>
</html>
